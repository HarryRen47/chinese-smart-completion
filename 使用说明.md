# 中文智能续写工具 - 使用说明

## 📋 概述

这是一个基于规则匹配的中文智能续写工具，可以识别用户输入的不同类型内容，并提供相应的智能补全。支持数学计算、日期查询、时区转换、单位换算、汇率查询、公式查找等功能。

## 🚀 快速开始

### 网页版使用

1. 直接在浏览器中打开 `index.html` 文件
2. 在输入框中输入要测试的内容
3. 点击"智能续写"按钮或按回车键查看结果
4. 可以点击示例按钮快速体验不同功能

### 命令行版使用

```bash
# 运行命令行交互版本
node 交互测试.js

# 或者运行基础测试
node 智能续写引擎.js
```

## 📊 支持的功能类型

### 1. 数学计算类
- **基础运算**: `1+1` → `1+1= 2`
- **数学函数**: `25的平方根` → `25的平方根= 5`
- **中文运算**: `5加3` → `5加3= 8`

### 2. 日期时间类
- **相对日期**: `3天后` → `3天后（6月27日）`
- **特殊日期**: `明天` → `明天（6月25日）`
- **时间跨度**: `2周前` → `2周前（6月10日）`

### 3. 时区查询类
- **城市时间**: `纽约时间` → `纽约时间（08:19）`
- **时区支持**: 纽约、伦敦、东京、巴黎、首尔、新加坡、迪拜等

### 4. 单位转换类
- **温度转换**: `37摄氏度等于` → `37摄氏度等于98.6华氏度`
- **长度转换**: `100米` → `100米328.08英尺`
- **支持单位**: 摄氏度/华氏度、米/英尺/英寸等

### 5. 汇率换算类
- **货币转换**: `1美元` → `1美元（7.1776 人民币）`
- **支持货币**: 美元、人民币、欧元、英镑
- **实时汇率**: 基于预设汇率数据

### 6. 公式定律类
- **物理公式**: `牛顿第二定律` → `牛顿第二定律F = ma`
- **数学公式**: `勾股定理` → `勾股定理a² + b² = c²`
- **化学公式**: `水的分子式` → `水的分子式H₂O`

## 💡 使用技巧

### 网页版特色功能
- ✅ **示例按钮**: 点击快速填入示例内容
- ✅ **历史记录**: 自动保存最近20次查询记录
- ✅ **本地存储**: 刷新页面后历史记录仍然保留
- ✅ **响应式设计**: 支持手机和平板设备
- ✅ **快捷键支持**: 回车键快速提交

### 命令行版特色功能
- ✅ **彩色输出**: 不同类型信息用不同颜色显示
- ✅ **实时处理**: 显示处理耗时
- ✅ **命令支持**: help、clear、examples、exit等命令
- ✅ **错误处理**: 友好的错误提示和建议

## 🎯 输入示例

### 测试用例
```
数学计算：
- 1+1
- 25*4
- 100的平方根
- 8的立方根

日期时间：
- 3天后
- 明天
- 下周
- 1个月前

时区查询：
- 纽约时间
- 东京时间
- 伦敦时间

单位转换：
- 37摄氏度等于
- 100米
- 50英尺

汇率换算：
- 1美元
- 100人民币
- 50欧元

公式查询：
- 牛顿第二定律
- 勾股定理
- 欧姆定律
- 水的分子式
```

## ⚙️ 技术特性

### 核心算法
- **正则表达式匹配**: 基于规则的模式识别
- **优先级处理**: 按类别优先级进行匹配
- **缓存机制**: 重复查询直接返回缓存结果
- **错误容错**: 输入格式容错和异常处理

### 性能优化
- **内存缓存**: 常用计算结果缓存在内存中
- **异步处理**: 支持异步计算，不阻塞界面
- **轻量设计**: 核心引擎文件小于20KB

## 🔧 自定义扩展

### 添加新的规则类型
1. 在 `智能续写引擎.js` 中的 `initializeRules()` 方法添加新规则
2. 实现对应的处理函数
3. 在数据库中添加相关数据

### 规则配置示例
```javascript
{
  category: 'custom',
  priority: 7,
  patterns: [
    /^自定义规则正则表达式$/
  ],
  handler: this.handleCustom.bind(this)
}
```

## 📱 兼容性

### 浏览器支持
- ✅ Chrome 70+
- ✅ Firefox 65+
- ✅ Safari 12+
- ✅ Edge 79+

### Node.js 支持
- ✅ Node.js 12+
- ✅ 支持 ES6+ 语法
- ✅ 跨平台兼容（Windows/macOS/Linux）

## 🐛 常见问题

### Q: 为什么某些输入没有结果？
A: 目前只支持预定义的规则类型，输入 `examples` 查看支持的示例。

### Q: 汇率数据是实时的吗？
A: 当前版本使用的是预设汇率数据，后续版本将集成实时汇率API。

### Q: 如何添加新的城市时区？
A: 在 `initializeData()` 方法的 `timezoneMap` 中添加新的城市-时区映射。

### Q: 计算精度如何？
A: 数学计算使用JavaScript原生精度，对于高精度需求建议使用专业计算工具。

## 📞 技术支持

如有问题或建议，欢迎：
- 查看项目文档
- 提交 Issue
- 参与代码贡献

---

**祝你使用愉快！🎉** 