<!DOCTYPE html>
<html>
<head>
    <title>数学计算测试</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; }
        input { padding: 10px; width: 200px; }
        button { padding: 10px 20px; margin-left: 10px; }
        #result { margin-top: 20px; padding: 10px; background: #f0f0f0; }
    </style>
</head>
<body>
    <h2>数学计算功能测试</h2>
    <input type="text" id="input" value="1+1" placeholder="输入数学表达式">
    <button onclick="test()">测试</button>
    <div id="result"></div>

    <script>
        function test() {
            const input = document.getElementById('input').value;
            console.log('输入:', input);
            
            // 测试正则表达式
            const regex = /^(\d+(?:\.\d+)?)\s*([+\-*/])\s*(\d+(?:\.\d+)?)$/;
            const match = input.match(regex);
            
            console.log('匹配结果:', match);
            
            if (match) {
                const [, num1, operator, num2] = match;
                console.log('数字1:', num1, '运算符:', operator, '数字2:', num2);
                
                const a = parseFloat(num1);
                const b = parseFloat(num2);
                let result;
                
                switch (operator) {
                    case '+': result = a + b; break;
                    case '-': result = a - b; break;
                    case '*': result = a * b; break;
                    case '/': result = a / b; break;
                }
                
                document.getElementById('result').innerHTML = `
                    <strong>成功!</strong><br>
                    输入: ${input}<br>
                    解析: ${num1} ${operator} ${num2}<br>
                    结果: = ${result}
                `;
            } else {
                document.getElementById('result').innerHTML = '<strong>匹配失败</strong>';
            }
        }
        
        // 页面加载时自动测试
        window.onload = test;
    </script>
</body>
</html> 