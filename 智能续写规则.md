# 中文智能续写识别规则

## 规则分类系统

### A. 日期时间类
**触发关键词模式：**
- 相对日期：`(\d+)?\s*(天|日|周|月|年)\s*(后|前|内)`
- 绝对日期：`(\d{4}年)?(\d{1,2}月)?(\d{1,2}日)?`
- 特殊日期：`(今天|明天|后天|昨天|前天|下周|上周|下月|上月)`

**示例匹配：**
- "3天后" → 匹配相对日期规则
- "下周一" → 匹配特殊日期规则
- "2024年6月27日" → 匹配绝对日期规则

### B. 时区时间类
**触发关键词模式：**
- 地区时间：`([\u4e00-\u9fa5]+|[A-Za-z]+)\s*时间`
- 时区转换：`(\d{1,2})[:\.]?(\d{2})?\s*(点|时)\s*([\u4e00-\u9fa5]+)`

**示例匹配：**
- "纽约时间" → 匹配地区时间规则
- "北京时间下午3点在洛杉矶" → 匹配时区转换规则

### C. 单位换算类
**触发关键词模式：**
- 温度：`(\d+\.?\d*)\s*(摄氏度|华氏度|开尔文|℃|℉|K)\s*(等于|转换为|换算成)?`
- 长度：`(\d+\.?\d*)\s*(米|厘米|毫米|千米|英尺|英寸|码|m|cm|mm|km|ft|in)\s*(等于|转换为)?`
- 重量：`(\d+\.?\d*)\s*(公斤|克|磅|吨|kg|g|lb|t)\s*(等于|转换为)?`
- 面积：`(\d+\.?\d*)\s*(平方米|平方千米|英亩|㎡|km²)\s*(等于|转换为)?`

**示例匹配：**
- "37摄氏度等于" → 匹配温度转换规则
- "10米转换为英尺" → 匹配长度转换规则

### D. 汇率换算类
**触发关键词模式：**
- 货币：`(\d+\.?\d*)\s*(美元|人民币|欧元|英镑|日元|港币|USD|CNY|EUR|GBP|JPY|HKD)`
- 换算：`(\d+\.?\d*)\s*(美元|人民币|欧元|英镑|日元|港币)\s*(等于|换算成|兑换)?`

**示例匹配：**
- "1美元" → 匹配货币规则
- "100人民币等于多少美元" → 匹配换算规则

### E. 公式定律类
**触发关键词模式：**
- 物理定律：`(牛顿第[一二三]定律|欧姆定律|万有引力定律|能量守恒定律)`
- 数学公式：`(勾股定理|二次方程|面积公式|体积公式)`
- 化学公式：`(水的分子式|氧气的化学式|二氧化碳)`

**示例匹配：**
- "牛顿第二定律" → 匹配物理定律规则
- "勾股定理" → 匹配数学公式规则

### F. 数学计算类
**触发关键词模式：**
- 基础运算：`(\d+\.?\d*)\s*[+\-*/]\s*(\d+\.?\d*)`
- 复杂运算：`(平方根|立方根|sin|cos|tan|log)\s*\(?\s*(\d+\.?\d*)\s*\)?`
- 百分比：`(\d+\.?\d*)\s*%\s*(的|×)\s*(\d+\.?\d*)`

**示例匹配：**
- "1+1" → 匹配基础运算规则
- "25的平方根" → 匹配复杂运算规则

## 优先级排序
1. 数学计算类（最高优先级，精确匹配）
2. 单位换算类
3. 汇率换算类
4. 日期时间类
5. 时区时间类
6. 公式定律类（最低优先级，避免误匹配）

## 匹配流程
1. 预处理输入（去除多余空格、标点）
2. 按优先级顺序进行正则匹配
3. 提取关键参数
4. 调用对应的处理函数
5. 格式化输出结果 